(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{1771:function(e,l,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contacts/ShowContacts",function(){return r(8635)}])},5088:function(e,l,r){"use strict";r.r(l);var t=r(5893),a=r(7294),s=r(6212),o=r(5005),n=r(2641);l.default=e=>{let{user:l,updateUser:r,onCancelEdit:c}=e,[i,d]=(0,a.useState)((null==l?void 0:l.name)||""),[u,h]=(0,a.useState)((null==l?void 0:l.email)||""),[m,x]=(0,a.useState)((null==l?void 0:l.mobile)||"");return(0,t.jsxs)(s.Z,{show:!0,onHide:c,centered:!0,children:[(0,t.jsx)(s.Z.Header,{closeButton:!0,children:(0,t.jsx)(s.Z.Title,{children:"Edit User"})}),(0,t.jsx)(s.Z.Body,{children:(0,t.jsxs)(n.Z,{onSubmit:e=>{e.preventDefault();let t={id:l.id,name:i,email:u,mobile:m};r(t)},children:[(0,t.jsxs)(n.Z.Group,{controlId:"formName",children:[(0,t.jsx)(n.Z.Label,{children:"Name:"}),(0,t.jsx)(n.Z.Control,{type:"text",value:i,onChange:e=>d(e.target.value)})]}),(0,t.jsxs)(n.Z.Group,{controlId:"formEmail",children:[(0,t.jsx)(n.Z.Label,{children:"Email:"}),(0,t.jsx)(n.Z.Control,{type:"email",value:u,onChange:e=>h(e.target.value)})]}),(0,t.jsxs)(n.Z.Group,{controlId:"formMobile",children:[(0,t.jsx)(n.Z.Label,{children:"Mobile:"}),(0,t.jsx)(n.Z.Control,{type:"text",value:m,onChange:e=>x(e.target.value)})]}),(0,t.jsx)(o.Z,{variant:"dark",type:"submit",children:"Update"}),(0,t.jsx)(o.Z,{variant:"secondary",onClick:c,children:"Cancel"})]})})]})}},8635:function(e,l,r){"use strict";r.r(l),r.d(l,{default:function(){return S}});var t=r(5893),a=r(7294),s=r(4184),o=r.n(s),n=r(6792),c=r(6611),i=r(9602);let d=a.forwardRef(({bsPrefix:e,className:l,variant:r,as:a="img",...s},c)=>{let i=(0,n.vE)(e,"card-img");return(0,t.jsx)(a,{ref:c,className:o()(r?`${i}-${r}`:i,l),...s})});d.displayName="CardImg";let u=a.createContext(null);u.displayName="CardHeaderContext";let h=a.forwardRef(({bsPrefix:e,className:l,as:r="div",...s},c)=>{let i=(0,n.vE)(e,"card-header"),d=(0,a.useMemo)(()=>({cardHeaderBsPrefix:i}),[i]);return(0,t.jsx)(u.Provider,{value:d,children:(0,t.jsx)(r,{ref:c,...s,className:o()(l,i)})})});h.displayName="CardHeader";let m=(0,i.Z)("h5"),x=(0,i.Z)("h6"),p=(0,c.Z)("card-body"),j=(0,c.Z)("card-title",{Component:m}),f=(0,c.Z)("card-subtitle",{Component:x}),v=(0,c.Z)("card-link",{Component:"a"}),g=(0,c.Z)("card-text",{Component:"p"}),C=(0,c.Z)("card-footer"),y=(0,c.Z)("card-img-overlay"),N=a.forwardRef(({bsPrefix:e,className:l,bg:r,text:a,border:s,body:c=!1,children:i,as:d="div",...u},h)=>{let m=(0,n.vE)(e,"card");return(0,t.jsx)(d,{ref:h,...u,className:o()(l,m,r&&`bg-${r}`,a&&`text-${a}`,s&&`border-${s}`),children:c?(0,t.jsx)(p,{children:i}):i})});N.displayName="Card";var w=Object.assign(N,{Img:d,Title:j,Subtitle:f,Body:p,Link:v,Text:g,Header:h,Footer:C,ImgOverlay:y}),Z=r(1664),b=r.n(Z),E=r(5088),_=r(5005),S=()=>{let[e,l]=(0,a.useState)([]),[r,s]=(0,a.useState)(null),[o,n]=(0,a.useState)(""),[c,i]=(0,a.useState)(""),[d,u]=(0,a.useState)("");(0,a.useEffect)(()=>{h()},[]);let h=async()=>{try{let e=await fetch("http://localhost:5000/users"),r=await e.json();l(r)}catch(e){console.error("Error fetching data:",e)}},m=async e=>{let l=window.confirm("Are you sure you want to delete this user?");if(l)try{let l=await fetch("http://localhost:5000/users/".concat(e),{method:"DELETE"});l.ok?(console.log("User deleted successfully"),h()):console.error("Error deleting user:",l.status)}catch(e){console.error("Error deleting user:",e)}},x=async e=>{try{let l=await fetch("http://localhost:5000/users/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});l.ok?(console.log("User updated successfully"),h(),s(null)):console.error("Error updating user:",l.status)}catch(e){console.error("Error updating user:",e)}},p=e=>{s(e)},j=()=>{s(null)},f=e.filter(e=>e.name.toLowerCase().includes(o.toLowerCase())&&e.email.toLowerCase().includes(c.toLowerCase())&&e.mobile.toLowerCase().includes(d.toLowerCase()));return(0,t.jsxs)("div",{className:"container product_grid",children:[(0,t.jsxs)("div",{className:"row contact_search_form",children:[(0,t.jsx)("div",{className:"col-sm-12 col-md-3 col-lg-3 ",children:(0,t.jsx)("input",{type:"text",placeholder:"Search By Name",value:o,onChange:e=>n(e.target.value),className:"form-control"})}),(0,t.jsx)("div",{className:"col-sm-12 col-md-3 col-lg-3 ",children:(0,t.jsx)("input",{type:"email",placeholder:"Search By Email",value:c,onChange:e=>i(e.target.value),className:"form-control"})}),(0,t.jsx)("div",{className:"col-sm-12 col-md-3 col-lg-3 ",children:(0,t.jsx)("input",{type:"number",placeholder:"Search By Phone",value:d,onChange:e=>u(e.target.value),className:"form-control"})}),(0,t.jsx)("div",{className:"col-sm-12 col-md-3 col-lg-3 ",children:(0,t.jsx)(_.Z,{variant:"dark",onClick:()=>{n(""),i(""),u("")},className:"pt-2 pb-2",children:"View All Contacts"})})]}),(0,t.jsx)("div",{className:"row",children:f.map(e=>(0,t.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-6 products_grid",children:(0,t.jsx)(w,{className:"products_card",children:(0,t.jsx)(w.Body,{children:r===e.id?(0,t.jsx)(E.default,{user:e,updateUser:x,onCancelEdit:j}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(w.Title,{children:[(0,t.jsx)("span",{children:"Name : "}),e.name]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{children:"Mobile No : "}),(0,t.jsx)(b(),{href:"tel:".concat(e.mobile),children:e.mobile})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{children:"Email : "}),(0,t.jsx)(b(),{href:"mailto:".concat(e.email),children:e.email})]}),(0,t.jsxs)("div",{className:"edit_delete",children:[(0,t.jsx)("button",{onClick:()=>p(e.id),children:"Edit"}),(0,t.jsx)("button",{onClick:()=>m(e.id),children:"Delete"})]})]})})})},e.id))})]})}}},function(e){e.O(0,[590,774,888,179],function(){return e(e.s=1771)}),_N_E=e.O()}]);